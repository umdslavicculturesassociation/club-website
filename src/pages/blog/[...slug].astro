---
import { getCollection } from 'astro:content';
import BlogPost from '@components/layouts/BlogPost.astro';
import { render } from 'astro:content';

export async function getStaticPaths() {
    const allPosts = await getCollection('blog');
    return allPosts.map((post) => {
        return {
            params: { slug: post.id },
            props: { post }
        }
    })
}

const { post } = Astro.props as { post: any };
const { Content } = await render(post);
---

<BlogPost {...post.data}>
	<Content />
</BlogPost>
